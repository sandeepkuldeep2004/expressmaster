<%- include('../layouts/header') %>
    <div class="card">
        <div class="card-body col-lg-6">
            <h5 class="card-title">Edit Catagory</strong></h5>
            <%if(locals.errorMessage) { %>
                <div class="alert alert-success" role="alert">
                    <%=errorMessage%>
                    </div>
            <% } %> 
            <!-- Vertical Form -->
            <form action="/category/<%=categoriesList._id%>" method="POST" class="row g-3 needs-validation">
                <input type="hidden" name="_csrf" value="<%=csrfToken %>">

                <input type="hidden" id="catalog" name="catalog" class="form-control" value="<%=categoriesList.catalog%>">


                <div class="col-12 mg-3">
                    <label for="inputNanme4" class="form-label">Code</label>
                    <input type="text" class="form-control" id="code" name="code" value="<%=categoriesList.code%>" readOnly>
                </div>
                <div class="col-12 mg-3">
                    <label for="inputEmail4" class="form-label">Title</label>
                    <input type="text" id="name" name="title" class="form-control" value="<%=categoriesList.title%>" required>
                </div>
                <div class="col-12 mg-3">
                                <label for="inputAddress" class="form-label">Description</label>
                                <textarea id="description" name="description" class="form-control" style="height: 100px"><%=categoriesList.description%></textarea>
                                <div class="invalid-feedback">Please provide a Description.</div>
                            </div>
                <div class="col-12 mg-3">
                    <label for="inputEmail4" class="form-label">Rank</label>
                    <input type="number" id="rank" name="rank" class="form-control" value="<%=categoriesList.description%>">
                </div>

                
                <div class="col-md-6 mg-3">
                    <label for="inputEmail4" class="form-label">Catalog</label>
                    <select class="form-control" id="catalogShow" name="catalogShow" disabled="disabled">
                        <%if (catalogList) { %> 
                            <option value="">---Select--</option>
                            <% catalogList.forEach(catalogListIrr=> { %>
                                <%if(String(catalogListIrr._id)==categoriesList.catalog) { %>
                                <option value="<%=catalogListIrr._id%>" selected><%=catalogListIrr.name%></option>
                                <%}else{%>
                                    <option value="<%=catalogListIrr._id%>"><%=catalogListIrr.name%></option>
                                <%}%>
                            <% }) %>
                        <%}%>
                    </select>
                </div>
                <div class="col-12 mg-3">
                    <label for="isvisible">Is Visible</label>
                    <%if(categoriesList.visible) { %>
                    <input type="checkbox" value=true name="visible" checked>
                    <%}else{%>
                        <input type="checkbox" value=false name="visible" >

                 <%}%>
                </div>

                <div class="col-12 mg-3">
                    <label for="exampleFormControlSelect2" class="form-label">Status</label>
                    <select class="form-control" id="status" name="status" required>
                        <%if(categoriesList.status) { %>
                            <option value=true selected>Active</option>
                            <option value=false>Inactive</option>
                            <%}else{%>
                            <option value=true>Active</option>
                            <option value=false selected>Inactive</option>
                        <%}%>
                    </select>
                  </div>

                  
               
                <div class="text-center mg-3 col-12 mg-3">
                    <button type="submit" class="btn btn-primary">Save</button>
                    <!-- <input type="submit" value="Save" class="btn"> -->
                    <a href="/navigation/viewAll" class="btn orange btn-secondary">Cancel</a>
                </div>
            </form><!-- Vertical Form -->
        </div>
    </div>
    <%- include('../layouts/footer') %>